{"is_source_file": true, "format": "JavaScript", "description": "This file defines a React functional component named PuzzlePiece, which renders an individual draggable puzzle piece. It includes logic for creating a visual representation of a puzzle piece from an image, integrating drag-and-drop capabilities via react-dnd, and styling the piece dynamically based on its state (being dragged or placed).", "external_files": ["react", "react-dnd"], "external_methods": ["useRef", "useDrag"], "published": ["PuzzlePiece"], "classes": [], "methods": [{"name": "PuzzlePiece", "description": "Functional React component for an individual puzzle piece, handling rendering and drag behavior."}, {"name": "renderPieceCanvas", "description": "Creates a canvas element, draws the corresponding image portion onto it, and returns its data URL for background rendering."}], "calls": ["document.createElement", "canvas.getContext", "canvas.toDataURL", "ctx.drawImage", "ctx.strokeStyle", "ctx.lineWidth", "ctx.strokeRect"], "search-terms": ["PuzzlePiece", "react-dnd", "useDrag", "createCanvasPuzzle", "canvas drawing puzzle piece"], "state": 2, "file_id": 25, "knowledge_revision": 76, "git_revision": "6fe5756e9742a64c4519c4926266164656b3020b", "revision_history": [{"52": "bc545f3c0deb77d53138d7d8ade242da95dffd71"}, {"72": "a370056e417d27d3d96353852eac31f39b2b92f2"}, {"76": "6fe5756e9742a64c4519c4926266164656b3020b"}], "ctags": [{"_type": "tag", "name": "PuzzlePiece", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^const PuzzlePiece = ({ piece, onDrop, image }) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "backgroundImage", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^    backgroundImage: `url(${renderPieceCanvas()})`,$/", "language": "JavaScript", "kind": "property", "scope": "pieceStyle", "scopeKind": "class"}, {"_type": "tag", "name": "backgroundSize", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^    backgroundSize: 'cover',$/", "language": "JavaScript", "kind": "property", "scope": "pieceStyle", "scopeKind": "class"}, {"_type": "tag", "name": "boxShadow", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^    boxShadow: piece.isPlaced $/", "language": "JavaScript", "kind": "property", "scope": "pieceStyle", "scopeKind": "class"}, {"_type": "tag", "name": "canvas", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^    const canvas = document.createElement('canvas');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ctx", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^    const ctx = canvas.getContext('2d');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "cursor", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^    cursor: 'move',$/", "language": "JavaScript", "kind": "property", "scope": "pieceStyle", "scopeKind": "class"}, {"_type": "tag", "name": "drag", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^  const [{ isDragging }, drag] = useDrag({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "height", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^    height: `${piece.height}px`,$/", "language": "JavaScript", "kind": "property", "scope": "pieceStyle", "scopeKind": "class"}, {"_type": "tag", "name": "left", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^    left: `${piece.x}px`,$/", "language": "JavaScript", "kind": "property", "scope": "pieceStyle", "scopeKind": "class"}, {"_type": "tag", "name": "opacity", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^    opacity: isDragging ? 0.5 : 1,$/", "language": "JavaScript", "kind": "property", "scope": "pieceStyle", "scopeKind": "class"}, {"_type": "tag", "name": "piece", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^const PuzzlePiece = ({ piece, onDrop, image }) => {$/", "language": "JavaScript", "kind": "field", "scope": "PuzzlePiece", "scopeKind": "class"}, {"_type": "tag", "name": "pieceStyle", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^      style={pieceStyle}$/", "language": "JavaScript", "kind": "field", "scope": "style", "scopeKind": "class"}, {"_type": "tag", "name": "pieceStyle", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^  const pieceStyle = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "position", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^    position: 'absolute',$/", "language": "JavaScript", "kind": "property", "scope": "pieceStyle", "scopeKind": "class"}, {"_type": "tag", "name": "ref", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^      ref={ref}$/", "language": "JavaScript", "kind": "field", "scope": "ref", "scopeKind": "class"}, {"_type": "tag", "name": "ref", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^  const ref = useRef(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "renderPieceCanvas", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^  const renderPieceCanvas = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "top", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^    top: `${piece.y}px`,$/", "language": "JavaScript", "kind": "property", "scope": "pieceStyle", "scopeKind": "class"}, {"_type": "tag", "name": "transition", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^    transition: isDragging ? 'none' : 'box-shadow 0.3s ease',$/", "language": "JavaScript", "kind": "property", "scope": "pieceStyle", "scopeKind": "class"}, {"_type": "tag", "name": "width", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^    width: `${piece.width}px`,$/", "language": "JavaScript", "kind": "property", "scope": "pieceStyle", "scopeKind": "class"}, {"_type": "tag", "name": "zIndex", "path": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "pattern": "/^    zIndex: isDragging ? 100 : (piece.isPlaced ? 1 : 10),$/", "language": "JavaScript", "kind": "property", "scope": "pieceStyle", "scopeKind": "class"}], "filename": "/home/kavia/workspace/code-generation/puzzlevista-94872-94878/main_container_for_puzzlevista/src/components/PuzzlePiece.js", "hash": "99f558b221e06d36efeaf6d45808d4d5", "format-version": 4, "code-base-name": "default", "fields": [{"name": "backgroundImage: `url(${renderPieceCanvas()})`,", "scope": "pieceStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "backgroundSize: 'cover',", "scope": "pieceStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "boxShadow: piece.isPlaced", "scope": "pieceStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "cursor: 'move',", "scope": "pieceStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "height: `${piece.height}px`,", "scope": "pieceStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "left: `${piece.x}px`,", "scope": "pieceStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "opacity: isDragging ? 0.5 : 1,", "scope": "pieceStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "const PuzzlePiece = ({ piece, onDrop, image }) => {", "scope": "PuzzlePiece", "scopeKind": "class", "description": "unavailable"}, {"name": "style={pieceStyle}", "scope": "style", "scopeKind": "class", "description": "unavailable"}, {"name": "position: 'absolute',", "scope": "pieceStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={ref}", "scope": "ref", "scopeKind": "class", "description": "unavailable"}, {"name": "top: `${piece.y}px`,", "scope": "pieceStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "transition: isDragging ? 'none' : 'box-shadow 0.3s ease',", "scope": "pieceStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "width: `${piece.width}px`,", "scope": "pieceStyle", "scopeKind": "class", "description": "unavailable"}, {"name": "zIndex: isDragging ? 100 : (piece.isPlaced ? 1 : 10),", "scope": "pieceStyle", "scopeKind": "class", "description": "unavailable"}]}